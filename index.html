<html>

<head>
    <!-- Load the latest version of TensorFlow.js -->
    <script src="https://unpkg.com/@tensorflow/tfjs"></script>
    <script src="https://unpkg.com/@tensorflow-models/mobilenet"></script>
    <script src="https://unpkg.com/@tensorflow-models/knn-classifier"></script>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <title>Upright Helper</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
        <a id="info" class="nav-link" data-toggle="modal" data-target="#info-modal"><i class="fa fa-info-circle"></i></a> 
        <a class="navbar-brand" href="#">Upright Helper</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul></ul>
        <div class="navbar-nav btn-group" role="group">
            <button class="btn btn-outline-dark" disabled>Training: </button>
            <button id="class-a" class="btn btn-outline-success">Correct Posture</button>
            <button id="class-b" class="btn btn-outline-danger">Wrong Posture</button>
        </div>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a id="pause" class="nav-link"><i class="fa fa-pause"></i></a> 
            </li>
            <li class="nav-item">
                <a id="settings" class="nav-link" data-toggle="modal" data-target="#settings-modal"><i class="fa fa-gear"></i></a>
            </li>
        </ul>
    </nav>
    

    <div class="container my-5">       
        <div class="row justify-content-center">     
            <video autoplay playsinline muted id="webcam" width="50%" height="50%"></video>
            </div>
    </div>
        
            
    <div class="modal fade" id="info-modal" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Upright Helper</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>
                        <b>Welcome to the Upright Helper.</b>
                        <br>
                        To have a proper posture, you need to stay upright while sitting. This website is designed to help you achieve this by warning you whenever you are not sitting upright.
                        <br>
                        To use this site effectively, all you have to do is:
                        <ol>
                            <li>When asked by the browser, give permission to utilize the webcam.</li> 
                            <li>Sit in a proper position (upright) and click the <b>Correct Posture</b> button a few times. (15-20 is usually enough). Each time you press the button it captures an image and trains the machine learning algoritmh with it. So to get good results, be sure to look at different parts of the screen, lean a bit to the right/left etc.</li> 
                            <li>Next, sit in a wrong position, (NOT upright) and click the <b>Wrong Posture</b> button a few times. (15-20 is usually enough). Again, try looking at different parts of the screen, etc.</li>
                            <li>After doing all these steps, you are ready to go. Leave the website open and it will warn you with sound/viusals whenever you start siting in a wrong posiiton.</li>
                            <li>If you think it is not working accurately enough, try adding more right position/wrong position samples. </li>
                        </ol>
                        <p>
                            <br>
                            <p> Note that, this website does not send any data to the web. Everything happens locally, which means YOUR data stays at YOUR machine.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="settings-modal" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Settings</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <button id="reset" class="btn btn-danger">Clear Data</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Load index.js after the content of the page -->
    <script src="index.js"></script>
</body>

</html>